| Risk | Mitigation | Metric / SLO | Alert Threshold | Verification Method | Linked ADR Section |
|------|-------------|--------------|-----------------|---------------------|--------------------|
| Identity Provider (OIDC) outage/latency blocks login/token validation for Shell/Backend API | Client/server timeouts (2–5 s) and circuit breaker; cache session/refresh tokens; grace period for existing sessions; Shell status banner | availability_percent ≥ 99.95% / 30 days | Error budget burn rate > 2.0 over 1h for availability, or auth_success_rate < 99% for 3× 5‑min windows → page Backend team | Inject IdP 5xx/timeouts and JWKs unavailability; verify degraded UX, retries with backoff, existing sessions continue; confirm availability ≥ 99.95% in SLO dashboard (Section 6) | ADR_001.md#consequences |
| Primary Database failover/replication lag causes write errors or stale reads via Backend API | Multi‑AZ DB; single‑writer via Backend API; retries with idempotency keys; readiness gates and transaction timeouts | db_replication_lag_seconds p95 ≤ 2 s / 30 days | Replication lag > 2 s for 3× 5‑min windows or error_rate ≥ 1% for 5 min → page Platform/SRE; incident if sustained > 15 min | Chaos DB failover; assert RPO ≤ 5 min, RTO ≤ 30 min, replication lag ≤ 2 s; verify no duplicate writes (idempotency keys) | ADR_001.md#consequences |
| Backend API p95 latency > 250 ms under 500 RPS burst | HPA on CPU 70% and latency p95>250 ms (3 min); HTTP/2 + request batching; short‑lived caches (1–5 s); 429 + Retry‑After | http_server_request_duration_seconds p95 ≤ 250 ms / 30 days | p95 latency > 250 ms for 3× 5‑min windows or error‑budget burn rate > 2.0 over 1h → page Platform/SRE | Load test 500 RPS for 5 min; verify autoscale within 2 min, p95 ≤ 300 ms during burst and returns ≤ 250 ms post‑scale; Prometheus SLO probe passes (Section 6) | ADR_001.md#consequences |
